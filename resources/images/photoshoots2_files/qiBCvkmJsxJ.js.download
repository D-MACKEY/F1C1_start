if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSOptimisticDeleteThread",["LSDeleteThread","LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSDeleteThread"),a[0],!1)},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[0]=d[6])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?c.seq([function(a){return c.localizeV2Async([0,2285622730],f).then(function(a){return d[6]=a})},function(a){return c.localizeV2Async([0,1919524925],f).then(function(a){return d[7]=a})},function(a){return c.sp(b("LSIssueNewError"),f,[0,1545093],d[6],d[7],f)}]):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"delete_thread_v2",[0,86],d[5],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MessageRequestsBulkActionsButtons.bs",["fbt","FocusRegion.react","LS.bs","LSOptimisticDeleteThread","LSOptimisticMarkThreadReadV2","LSTransaction.bs","LsMessageRequestsActions.bs","LsMessageRequestsEntryPoint.bs","LsSystemFolder.bs","MessageRequestsBulkActionsContext.react","MessageRequestsLog.bs","ReQL.bs","ServerTime","TetraButtonGroup.react","bs_caml_format","bs_caml_int64","bs_curry","focusScopeQueries","promiseDone","react","useCometConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c){return i.useCallback(function(c){c.forEach(function(c){var d=b("bs_caml_format").caml_int64_of_string(c);b("promiseDone")(b("LSTransaction.bs").run(a,function(c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:d,tl:0})).then(function(a){return b("LSOptimisticMarkThreadReadV2")(d,b("bs_caml_int64").of_float(b("ServerTime").getMillis()),b("LS.bs").make(c))})},"readWrite"),void 0,void 0)})},[c,a])}function k(a,c){return i.useCallback(function(c){c.forEach(function(c){var d=b("bs_caml_format").caml_int64_of_string(c);b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("LSOptimisticDeleteThread")(d,b("LS.bs").make(a))},"readWrite"),void 0,void 0)})},[c,a])}function a(a){a=a.entryPoint;var c=a!==void 0?a:"messageRequests";a=i.useContext(b("MessageRequestsBulkActionsContext.react"));var d=a.setIsBulkActionsEditMode,e=a.bulkActionsUnreadSelectedThreads,f=a.bulkActionsSelectedThreads,h=b("useReStore")(),l=j(h,f),m=k(h,f),n=b("useCometConfirmationDialog")();h=i.useCallback(function(a){b("bs_curry")._1(l,f);b("bs_curry")._1(d,!1);return b("MessageRequestsLog.bs").logMessageRequestsBulkActionTapped(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkMarkAsRead),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending))});var o=i.useCallback(function(a){b("MessageRequestsLog.bs").logMessageRequestsBulkActionTapped(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkDelete),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending));return b("bs_curry")._3(n,{body:f.size===1?g._("__JHASH__MLd3xbTafSI__JHASH__"):g._("__JHASH__sZbvz5cEYff__JHASH__"),confirm:g._("__JHASH___y3IAprClSl__JHASH__"),title:f.size===1?g._("__JHASH__zdCU4WfWx_J__JHASH__"):g._("__JHASH__6Kbu-lnpMhp__JHASH__",[g._param("Number of selected threads",String(f.size))])},function(a){b("bs_curry")._1(m,f);b("bs_curry")._1(d,!1);b("FocusRegion.react").focusRegionById("mwb-jewel-bulk-actions-edit-button",b("focusScopeQueries").tabbableScopeQuery);return b("MessageRequestsLog.bs").logMessageRequestsBulkActionConfirmed(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkDelete),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending))},function(a){})});return i.jsx("div",{className:a.isBulkActionsEditMode?"xsag5q8":"x1s85apg",id:c==="spam"?"spam-bulk-actions-buttons":"message-requests-bulk-actions-buttons",children:i.jsx(b("FocusRegion.react").FocusRegion,{autoFocusQuery:b("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:i.jsx(b("TetraButtonGroup.react"),{primary:{label:g._("__JHASH__pC0i0CAW1ov__JHASH__").toString(),type:"secondary",onPress:h,testid:c==="spam"?"spam-bulk-mark-as-read-button":"message-requests-bulk-mark-as-read-button",disabled:f.size===0||e.size===0},secondary:{label:g._("__JHASH___y3IAprClSl__JHASH__"),onPress:o,disabled:f.size===0,testid:c==="spam"?"spam-bulk-delete-button":"message-requests-bulk-delete-button"},direction:"forward",align:"justify"})})})}c=a;f.make=c}),null);
__d("MWInboxMessageRequestsRoot.bs",["BootloaderResource","CometHeroInteractionWithDiv.react","JSResource","LsSystemFolder.bs","MessageRequestsBulkActionsButtons.bs","MessageRequestsBulkActionsContextProvider.react","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("JSResource")("MAWRequestAndSpamThreadListPage.bs").__setRef("MWInboxMessageRequestsRoot.bs");function j(a,c,d,e,f){f={parentThreadKey:c,entryPoint:d};a!==void 0&&(f.hidePage=b("bs_caml_option").valFromOption(a));e!==void 0&&(f.showBackButton=b("bs_caml_option").valFromOption(e));return f}function k(a){return h.createElement(b("BootloaderResource").read(i).make,a)}c={reasonResource:i,makeProps:j,make:k};var l={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62"}};function a(a){var c=a.hidePage;a=a.interactionID;a=a!==void 0?a:"";return h.jsxs(b("MessageRequestsBulkActionsContextProvider.react"),{children:[h.jsx(b("CometHeroInteractionWithDiv.react"),{children:h.jsx(k,j(c,b("LsSystemFolder.bs").pending,"inboxPendingRequests",void 0,void 0)),interactionUUID:a,interactionDesc:"FETCH_MESSAGE_REQUESTS",pageletName:"MessageRequestsThreadList",excludeFromMainVC:!0,xstyle:l.container}),h.jsx(b("MessageRequestsBulkActionsButtons.bs").make,{})]})}d=a;f.LazyMAWRequestAndSpamThreadListPage=c;f.styles=l;f.make=d}),null);
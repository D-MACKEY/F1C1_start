if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MWChatSearchTypeaheadDataEntry.bs",["FBID.bs","LSContactViewerRelationship.bs","LSInt64.bs","LSRestrictionType.bs","bs_belt_Option","bs_caml","bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){return{key:b("bs_int64").to_string(a.id),label:a.name,rawData:{displayName:a.name,id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.id)),imageUrl:a.profilePictureUrl,resultType:"user",isContact:b("LSInt64.bs").equal(a.contactViewerRelationship,b("LSContactViewerRelationship.bs").contactOfViewer)||b("LSInt64.bs").equal(a.contactViewerRelationship,b("LSContactViewerRelationship.bs").facebookFriend)||b("LSInt64.bs").equal(a.contactViewerRelationship,b("LSContactViewerRelationship.bs").softContact),isE2e:!0,isEPD:b("bs_caml").i64_eq(a.restrictionType,b("LSRestrictionType.bs").dataPrivacy),isInteropEligible:void 0,isGroupsXacEligible:void 0,isInstagramAccount:void 0,renderIndex:void 0,searchSource:void 0,secondaryImageUrl:b("bs_belt_Option").getWithDefault(a.profilePictureFallbackUrl,a.profilePictureUrl),section:void 0,serverSearchResult:void 0,subtext:"",verificationStatus:void 0,waAddressable:void 0,waEligibility:void 0,isWAEligible:!0,otherUserId:void 0}}}f.convertContactToSearchTypeaheadDataEntry=a}),null);
__d("MWChatSearchTypeaheadDataEntry.re",["MWChatSearchTypeaheadDataEntry.bs"],(function(a,b,c,d,e,f){a=b("MWChatSearchTypeaheadDataEntry.bs").convertContactToSearchTypeaheadDataEntry;f.convertContactToSearchTypeaheadDataEntry=a}),null);
__d("MAWComposeSecureGroupThenNavigate.react",["I64","MWChatOpenNewTab.re","MWChatSearchTypeaheadDataEntry.re","MWInboxRouteBuilder.re","MWLSThreadDisplayContext.re","MWThreadListNewMessageState.re","ReQL","ReQLSuspense","react","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a,b,c){return d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b),d("ReQL").fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,c)}).map(function(a){a[0];a=a[1];return a})},[a,d("I64").to_string(b),c])}function a(a,b,e){var f=i(a,b,e);a=c("MWLSThreadDisplayContext.re").useHook();var g=a==="Inbox"?"inboxNewMessage":"jewelNewMessage",j=c("MWChatOpenNewTab.re").useHook(g),k=c("MWThreadListNewMessageState.re").useDispatch(),l=c("useCometRouterDispatcher")();return h(function(){if(g==="jewelNewMessage")j(f)(!0);else if(l!=null){k({_0:f.map(d("MWChatSearchTypeaheadDataEntry.re").convertContactToSearchTypeaheadDataEntry),TAG:1});var a=d("MWInboxRouteBuilder.re").routeBuilderModule.buildNewThreadURL({initial_e2ee_toggle_position:!0});l.go(a,{})}},[f,j,g,l,k])}g.useHook=a}),98);
__d("MAWCreateOneToOneThreadThenNavigate.bs",["LSResult.bs","MAWCreateOneToOneThread.bs","MAWGating.bs","MAWThreadId.bs","MWV2OnAuthoritativeThreadInsert.bs","MWV2OpenTabOrThread.bs","MessagingThreadType.bs","Promise","bs_caml_int64","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWV2OpenTabOrThread.bs").useHook(void 0);return h.useCallback(function(a){b("promiseDone")(b("MAWCreateOneToOneThread.bs").call(c,a,void 0,void 0).then(function(a){var d=a.chatId;return b("Promise").all([b("MAWThreadId.bs").toThreadKeyMaybe(c,d),b("Promise").resolve(a.created),b("Promise").resolve(d)])}),function(a){var e=a[0];if(e!==void 0)if(a[1]&&b("MAWGating.bs").isOccamadillo(void 0))return b("MWV2OnAuthoritativeThreadInsert.bs").onAuthoritativeThreadInsert(b("LSResult.bs").make(e),c,function(a){return b("bs_curry")._3(d.openTabOrInbox,void 0,{threadKey:a.threadKey,clientThreadKey:a.clientThreadKey,threadType:a.threadType},"groupMembers")});else return b("bs_curry")._3(d.openTabOrInbox,void 0,{threadKey:e,clientThreadKey:b("bs_caml_int64").of_int32(a[2]),threadType:b("MessagingThreadType.bs").secureMessageOverWaOneToOne},"groupMembers")},void 0)},[c,d])}f.useHook=a}),null);
__d("MAWMarkThreadAsUnread.bs",["MAWBackendBridge.bs","MAWGating.bs","MAWThreadId.bs","MWLSMarkThreadAsUnread.bs","MWThreadKey.bs","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThreadKey.bs").useIdMemoizedExn(void 0),d=b("useReStore")(),e=b("MWLSMarkThreadAsUnread.bs").useHook(void 0);return h.useCallback(function(a){b("MAWGating.bs").isOccamadillo(void 0)&&b("bs_curry")._1(e,void 0),b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(d,c).then(function(a){if(a.TAG===0)return b("bs_curry")._1(b("MAWBackendBridge.bs").markThreadAsUnread({threadId:a._0}).fireAndForget,void 0)}),void 0,void 0)},[JSON.stringify(c)])}f.useHook=a}),null);
__d("MAWArchiveSecureThreadMenuItem.bs",["fbt","LSMessagingThreadTypeUtil.bs","MAWBackendBridge.bs","MAWGating.bs","MAWThreadId.bs","MWMenuItem.react","MWThreadListHoverButtonDropdownMenuIcons.bs","MWUseNavigateAfterLeavingGroup.bs","ODS","Promise","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c){var d=b("useReStore")(),e=b("MWUseNavigateAfterLeavingGroup.bs").useHook(a);return i.useCallback(function(f){if(b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)){b("MAWGating.bs").isOccamadillo(void 0)?(b("bs_curry")._1(c,void 0),b("bs_curry")._1(e,void 0),b("ODS").bumpEntityKey(3185,"armadillo_group_managememt","archive")):b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(d,a.threadKey).then(function(a){if(a.TAG===0)return b("bs_curry")._1(b("MAWBackendBridge.bs").archiveThread({threadId:a._0}).sendAndReceive,void 0);else return b("Promise").resolve(void 0)}),void 0,void 0);return}},[d,a,c])}function a(a){var c=a.thread;a=a.archiveThread;var d=j(c,a);return i.jsx(b("MWMenuItem.react"),{primaryText:g._("__JHASH__8lc3vwgVE2l__JHASH__"),onClick:function(a){return b("bs_curry")._1(d,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").HideConversation.icon})}c=a;f.useArchiveThread=j;f.make=c}),null);
__d("MAWSecureConversationThreadListMenuItem.bs",["fbt","CometMenuSeparator.react","LSMessagingThreadTypeUtil.bs","MAWComposeSecureGroupThenNavigate.react","MAWCreateOneToOneThreadThenNavigate.bs","MWMenuItem.react","MWPActor.bs","MWThreadListHoverButtonDropdownMenuIcons.bs","bs_caml_format","bs_curry","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a,c,d){return b("MAWComposeSecureGroupThenNavigate.react").useHook(a,c,d)}function j(a){}function c(a){var c=a.fbid,d=a.thread;a=a.onPress;var e=a!==void 0?a:j;a=b("useReStore")();var f=b("MWPActor.bs").useActor(void 0),h=d.threadKey,k=b("MAWComposeSecureGroupThenNavigate.react").useHook(a,h,f),l=b("MAWCreateOneToOneThreadThenNavigate.bs").useHook(void 0);return i.jsxs(i.Fragment,{children:[i.jsx(b("CometMenuSeparator.react"),{}),i.jsx(b("MWMenuItem.react"),{primaryText:g._("__JHASH__hitEjg-w7S3__JHASH__"),onClick:function(a){b("bs_curry")._1(e,a);if(b("LSMessagingThreadTypeUtil.bs").isGroup(d.threadType))return b("bs_curry")._1(k,void 0);else return b("bs_curry")._1(l,b("bs_caml_format").caml_int64_of_string(c))},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").SecretConversation.icon,testid:"maw-secure-conversation-threadlist-toggle-button"})]})}d=c;f.useMAWComposeSecureGroupThenNavigate=a;f.noOp=j;f.make=d}),null);
__d("MAWThreadListHoverButtonDropdownMenuDeleteSecureThreadButton.bs",["LS.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticRemoveThread","LSThreadRemoveType.bs","LSTransaction.bs","MAWBackendBridge.bs","MAWGating.bs","MAWJob.bs","MAWThreadCutover.bs","MAWThreadId.bs","MWChatSettingsDeleteConversation.bs","MWUseNavigateAfterLeavingGroup.bs","Promise","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("MWUseNavigateAfterLeavingGroup.bs").useHook(a),e=b("MAWThreadCutover.bs").useGetCutoverOpenThreadKey(a.threadKey),f=b("useReStore")();return h.useCallback(function(g){if(b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)){b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(f,a.threadKey).then(function(a){if(a.TAG!==0)return b("Promise").resolve(void 0);a=a._0;a=b("MAWGating.bs").isAppSyncDeleteThreadEnabled(void 0)?b("MAWJob.bs").deleteThread.waitUntilPersisted(a,{priority:"UI_ACTION"}):b("bs_curry")._1(b("MAWBackendBridge.bs").deleteThread({threadId:a}).sendAndReceive,void 0);var g=b("MAWGating.bs").isThreadLevelCutoverEnabled(void 0);g=g&&e!==void 0?b("LSTransaction.bs").run(f,function(a){return b("LSOptimisticRemoveThread")(e,b("LSThreadRemoveType.bs").deleteThread,b("LS.bs").make(a))},"readWrite"):b("Promise").resolve(void 0);return b("Promise").all([a,g]).then(function(a){if(c)return b("bs_curry")._1(d,void 0)})}),void 0,void 0);return}},[f,a,d,e])}function a(a){var c=a.thread,d=a.selected;a=a.onSelectItem;a=a!==void 0?a:function(a){};d=i(c,d);return h.jsx(b("MWChatSettingsDeleteConversation.bs").make,{disabled:!1,onClick:d,thread:c,onSelectItem:a})}c=a;f.useDeleteSecureThread=i;f.make=c}),null);
__d("MAWThreadListHoverButtonDropdownMenuUnmuteThreadMenuItem.bs",["MAWSecureThreadUpdateMuteSetting.bs","MWMenuItem.react","MWThreadListHoverButtonDropdownMenuIcons.bs","MessengerMuteUtils.bs","bs_belt_Option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.muteActionLabel;a=a.mutedUntil;var e=b("MAWSecureThreadUpdateMuteSetting.bs").useHook(c.threadKey,0,function(a){});return h.jsx(h.Fragment,{children:h.jsx(b("MWMenuItem.react"),{primaryText:d,onClick:function(a){b("bs_curry")._1(e,void 0)},secondaryText:b("bs_belt_Option").getWithDefault(b("MessengerMuteUtils.bs").mutedUntilLabel(a),""),icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").MuteConversation.Off.icon})})}c=a;f.make=c}),null);
__d("MAWUnarchiveSecureThreadMenuItem.bs",["fbt","LSMessagingThreadTypeUtil.bs","MAWBackendBridge.bs","MAWGating.bs","MAWThreadId.bs","MWMenuItem.react","MWThreadListHoverButtonDropdownMenuIcons.bs","ODS","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c){var d=b("useReStore")();return i.useCallback(function(e){if(b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)){b("MAWGating.bs").isOccamadillo(void 0)?(b("bs_curry")._1(c,void 0),b("ODS").bumpEntityKey(3185,"armadillo_group_managememt","unarchive")):b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(d,a.threadKey).then(function(a){if(a.TAG!==0)return;b("bs_curry")._1(b("MAWBackendBridge.bs").unarchiveThread({threadId:a._0}).fireAndForget,void 0);b("ODS").bumpEntityKey(3185,"armadillo_group_managememt","unarchive")}),void 0,void 0);return}},[d,a])}function a(a){var c=a.thread;a=a.unarchiveThread;var d=j(c,a);return i.jsx(b("MWMenuItem.react"),{primaryText:g._("__JHASH__BJ8BLrDScJf__JHASH__"),onClick:function(a){return b("bs_curry")._1(d,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").HideConversation.icon})}c=a;f.useUnarchiveThread=j;f.make=c}),null);
__d("MAWMarkThreadAsReadMenuItem.bs",["fbt","MAWMarkThreadAsRead.bs","MAWMarkThreadAsUnread.bs","MWMenuItem.react","MWThreadListHoverButtonDropdownMenuIcons.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=a.isUnread,e=b("MAWMarkThreadAsRead.bs").useHook(c),f=b("MAWMarkThreadAsUnread.bs").useHook(void 0);return i.jsx(i.Fragment,{children:i.jsx(b("MWMenuItem.react"),{primaryText:d?g._("__JHASH__kxStFVEPa-2__JHASH__"):g._("__JHASH__R43jAshHA8i__JHASH__"),onClick:function(a){if(d)return b("bs_curry")._1(e,void 0);else return b("bs_curry")._1(f,void 0)},icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").MarkAsReadOrUnread.icon})})}c=a;f.make=c}),null);